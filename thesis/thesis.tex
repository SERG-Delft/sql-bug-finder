\documentclass[twoside,a4paper,11pt]{memoir}
\usepackage{a4}
\usepackage{times}
\usepackage{pslatex}
\usepackage{url}
\usepackage{mscthesis}
\usepackage{lipsum} % standard filler text, only needed for demo
\usepackage{fontspec}
\setmainfont{cmun}[
    Path = fonts/,
    Extension = .ttf,
    UprightFont = *rm,
    ItalicFont = *ti,
    BoldFont = *bx,
    BoldItalicFont = *bi,
]

%---------------------------------------------------------------------%
%                       General Settings                              %
%---------------------------------------------------------------------%
% %% The package 'algorithm' is useful, but incompatible with memoir.
% %% Cor-Paul Bezemer / http://homes.esat.kuleuven.be/~dvherten/esatthesis.html
% %% suggest the following fix:
\let\newfloat\undefined \usepackage{algorithmic}
\usepackage{algorithm}

% Include right (LaTeX/PDFLaTeX) graphics package
% (doesn't work under cygwin apperently)
%\ifx\pdftexversion\undefined
\usepackage[dvips]{graphicx}
\usepackage[dvips]{color}
%\else
%\usepackage[pdftex]{graphicx}
%\usepackage[pdftex]{color}
%\fi

\usepackage{hyperref}

% Used in the bibliography to enable \citeauthor{citation}
\usepackage[numbers]{natbib}

% Ensure that urls longer than the page width are broken up
% Based on the answer of StackOverflow user "xamde":
% https://tex.stackexchange.com/a/10401/155506
\expandafter\def\expandafter\UrlBreaks\expandafter{\UrlBreaks%  save the current one
  \do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j%
  \do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t%
  \do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D%
  \do\E\do\F\do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N%
  \do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V\do\W\do\X%
  \do\Y\do\Z}

\usepackage[framemethod=pstricks]{mdframed}
\mdfsetup{%
    middlelinecolor=gray,
    middlelinewidth=1pt,
    backgroundcolor=gray!20,
    roundcorner=5pt
}

%---------------------------------------------------------------------%
%                     Custom Commands                                 %
%---------------------------------------------------------------------%
\newcommand{\sql}[1]{\lstinline{#1}}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{ltablex}
\usepackage{pdfpages}

%---------------------------------------------------------------------%
%                     Code Listing Settings                           %
%---------------------------------------------------------------------%
\usepackage{listings}
\usepackage{xcolor}

% New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Custom code listing style
\lstdefinestyle{code}{
  commentstyle=\color{codegreen},
  keywordstyle=\color{blue},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codegray},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,         
  breaklines=true,                 
  captionpos=b,                    
  keepspaces=true,                 
  numbers=none,                    
  numbersep=5pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2
}
\lstset{style=code}

%---------------------------------------------------------------------%
%                           Options                                   %
%---------------------------------------------------------------------%

\title{A Static-Based Approach to Detect SQL Semantic Bugs}
\subtitle{Version of \today}
% The final version of your thesis should typically use a different
% subtitle without the current date, for example
%\subtitle{Master's Thesis} 
% or remove the subtitle by uncommenting the following line: 
%\subtitle{}

\author{Claudiu Ion}                               % CHANGE TO YOUR NAME
\authoremail{\url{c.ion@student.tudelft.nl}}       % CHANGE TO YOUR EMAIL ADDRESS
\birthplace{Bucharest, Romania}                    % CHANGE TO YOUR BIRTH PLACE
\studentid{5105080}                                % CHANGE TO YOUR STUDENT ID

% thesis committee:
\chair{Prof. Dr. A. van Deursen, Faculty EEMCS, TU Delft}
\supervisor{Dr. M. Aniche, Faculty EEMCS, TU Delft}
% The following two are optional for LaTeX (current university
% regulations state that at least one of them should be assigned)
% \externalsupervisor{Drs. E.X. Ternal, Some Company}
\committeemember{Dr. C. Lofi, Faculty EEMCS, TU Delft}


\setcounter{tocdepth}{1}
\setsecnumdepth{subsection}
\maxsecnumdepth{subsection}

\begin{document}
\frontmatter
\thispagestyle{empty}
\maketitle                                          % for the cover page
\makeformaltitlepages{\input{chapters/abstract}}    % for formal title pages with all info

\include{chapters/preface}

\cleardoublepage\tableofcontents
\cleardoublepage\listoffigures
\cleardoublepage\mainmatter

\include{chapters/introduction}
\include{chapters/background}
\include{chapters/semantic_bugs}
\include{chapters/semantic_bugs_study}
\include{chapters/conclusion}

\bibliographystyle{plainnat}
\bibliography{thesis}

\appendix
\def\chaptername{Appendix}
\include{appendix/tool_validation}
\include{appendix/code_quality}

\end{document}
